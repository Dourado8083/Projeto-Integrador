<div class="container-fluid bg-grad p-5 d-flex align-items-center flex-wrap">

    <div class="container bg-white oikos-border mb-3">

        <ul class="nav nav-tabs d-flex justify-content-center" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button (click)="getProfileById()" class="nav-link text-secondary fw-bold active" id="myCommunities-tab" data-bs-toggle="tab"
                    data-bs-target="#myCommunities" type="button" role="tab" aria-controls="myCommunities"
                    aria-selected="true">Minhas Comunidades</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link text-secondary fw-bold" id="allCommunities-tab" data-bs-toggle="tab"
                    data-bs-target="#allCommunities" type="button" role="tab" aria-controls="allCommunities"
                    aria-selected="false">Todas as Comunidades</button>
            </li>
        </ul>

        <div class="tab-content mt-5" id="myTabContent">
            <div class="tab-pane fade show active" id="myCommunities" role="tabpanel"
                aria-labelledby="myCommunities-tab">

                <table class="table">
                    <thead>
                        <tr>
                            <th class="text-center" scope="col">Comunidade</th>
                            <th class="text-center" scope="col">Informação</th>
                            <th class="text-center" scope="col">Status</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr *ngFor="let com of profile.memberOf">
                            <th class="d-flex flex-column align-items-center mt-3" scope="col">
                                <a [routerLink]="['/community-page', com.communityId]"><img src="{{com.communityPic}}" class="communityPic img-fluid"></a>
                                <a [routerLink]="['/community-page', com.communityId]" class="text-center fw-bold mt-2 text-dark" style="text-decoration: none;">{{com.communityName}}</a>
                            </th>
                            <td scope="col">
                                <p class="fw-bold mt-3">Biografia: </p>
                                <p><em>{{com.communityBio}}</em></p>
                                <p class="mt-4"><b>Membros:</b> {{com.communityNumberOfMembers}}</p>
                            </td>

                            <td scope="col">
                                <div class="text-white bg-dark text-center m-auto mt-5 status">Não-Membro</div>
                                <div class="text-white bg-success text-center m-auto mt-5 status">Membro</div>
                                
                                <!--<div class="text-white bg-danger text-center m-auto mt-5 status">Admin</div>-->
                            </td>
                        </tr>

                    </tbody>
                </table>


            </div>
            <div class="tab-pane fade" id="allCommunities" role="tabpanel" aria-labelledby="allCommunities-tab">

                <table class="table">
                    <thead>
                        <tr>
                            <th class="text-center" scope="col">Comunidade</th>
                            <th class="text-center" scope="col">Informação</th>
                            <th class="text-center" scope="col">Status</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr *ngFor="let com of communityList">
                            <th class="d-flex flex-column align-items-center mt-3" scope="col">
                                <a [routerLink]="['/community-page', com.communityId]"><img src="{{com.communityPic}}" class="communityPic img-fluid"></a>
                                <a [routerLink]="['/community-page', com.communityId]" class="text-center fw-bold mt-2 text-dark" style="text-decoration: none;">{{com.communityName}}</a>
                            </th>
                            <td scope="col">
                                <p class="fw-bold mt-3">Biografia: </p>
                                <p><em>{{com.communityBio}}</em></p>
                                <p class="mt-4"><b>Membros:</b> {{com.communityNumberOfMembers}}</p>
                                <p><b>Administrador</b>: <a href="">{{com.communityOwner.profileName}}</a></p>
                            </td>

                            <td scope="col">
                                <div class="text-white bg-dark text-center m-auto mt-5 status">Não-Membro</div>
                                <div class="text-white bg-success text-center m-auto mt-5 status">Membro</div>
                                <div class="text-white bg-danger text-center m-auto mt-5 status">Admin</div>
                            </td>
                        </tr>

                    </tbody>
                </table> 

            </div>

        </div>

    </div>

    <div class="m-auto create">
        <button class="btn" data-bs-toggle="modal" data-bs-target="#newCommunity"><i
            class="fas fa-globe-americas fs-204 create"></i></button>
        <p class="text-center mt-1 create-text">CRIAR <i class="fas fa-plus-square"></i></p>
    </div>

</div>


<div id="newCommunity" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Criar Comunidade</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div class="form-control">

                    <label for="communityName" class="mt-3 mb-1">Nome da comunidade</label>
                    <input [(ngModel)]="profileCommunityDto.communityName" type="text" class="form-control" id="communityName"
                        placeholder="Insira o nome para a comunidade">

                    <label for="communityPic" class="mt-3 mb-1">Link da foto</label>
                    <input [(ngModel)]="profileCommunityDto.communityPic" type="text" class="form-control" id="communityPic"
                        placeholder="Insira um link para a foto da comunidade">

                    <label for="communityBio" class="mt-3 mb-1">Descrição da comunidade</label>
                    <div class="form-floating">
                        <textarea [(ngModel)]="profileCommunityDto.communityBio" class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px"></textarea>
                        <label for="floatingTextarea2"></label>
                      </div>



                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
                <button (click)="createCommunity()" type="button" data-bs-dismiss="modal" class="btn btn-success">Criar</button>
            </div>
        </div>
    </div>
</div>